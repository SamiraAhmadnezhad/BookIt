name: Deploy Flutter Web to GitHub Pages

on:
  push:
    branches:
      - main  # ÛŒØ§ Ù‡Ø± Ø´Ø§Ø®Ù‡â€ŒØ§ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¨Ø§ Ù¾ÙˆØ´ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ø¢Ù†ØŒ Ø³Ø§ÛŒØª Ø¢Ù¾Ø¯ÛŒØª Ø´ÙˆØ¯

jobs:
  build_and_deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v3

      - name: Setup Flutter SDK ğŸ¦
        uses: subosito/flutter-action@v2
        with:
          channel: 'stable' # ÛŒØ§ 'beta'

      - name: Install Dependencies ğŸ‘¨â€ğŸ’»
        run: flutter pub get

      - name: Build Web ğŸ—ï¸
        run: flutter build web --release --base-href /${{ github.event.repository.name }}/
        #  â†‘â†‘â†‘  Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø®ÛŒÙ„ÛŒ Ù…Ù‡Ù… Ø§Ø³Øª!  â†‘â†‘â†‘

      - name: Deploy to GitHub Pages ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          branch: gh-pages # Ø´Ø§Ø®Ù‡â€ŒØ§ÛŒ Ú©Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒÙ„Ø¯ Ø¯Ø± Ø¢Ù† Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯
          folder: build/web # Ù¾ÙˆØ´Ù‡â€ŒØ§ÛŒ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ø¢Ù¾Ù„ÙˆØ¯ Ø´ÙˆØ¯